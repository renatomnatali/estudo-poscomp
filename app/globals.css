@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
}

body {
  @apply bg-slate-100 text-slate-900;
}

.page-wrap {
  @apply mx-auto max-w-[1380px] p-4 pb-24 md:p-6 md:pb-6;
}

.app-shell {
  @apply grid gap-5 md:grid-cols-[270px_minmax(0,1fr)] md:items-start;
}

.sidebar {
  @apply rounded-3xl border border-slate-200 bg-white p-5 shadow-sm md:sticky md:top-5;
}

.sidebar h1 {
  @apply m-0 text-lg font-bold;
}

.project-chip {
  @apply mt-2 inline-flex rounded-full bg-cyan-100 px-3 py-1 text-xs font-semibold text-cyan-800;
}

.sidebar nav {
  @apply mt-5 grid gap-2;
}

.nav-link {
  @apply w-full rounded-xl border border-transparent px-3 py-2 text-left text-sm text-slate-700;
}

.nav-link:hover {
  @apply bg-blue-50 text-slate-900;
}

.nav-link.active {
  @apply border-blue-200 bg-blue-100 font-semibold text-blue-900;
}

.sidebar-footer {
  @apply mt-6 whitespace-pre-line border-t border-slate-200 pt-4 text-xs text-slate-500;
}

.main-area {
  @apply grid gap-5;
}

.page-header {
  @apply rounded-3xl border border-slate-200 bg-white p-6 shadow-sm;
}

.breadcrumb {
  @apply inline-flex items-center gap-2 text-xs text-slate-500;
}

.page-title {
  @apply mt-3 text-3xl font-bold leading-tight text-slate-900;
}

.page-subtitle {
  @apply mt-2 text-sm text-slate-600;
}

.section-card {
  @apply rounded-2xl border border-slate-200 bg-white p-5 shadow-sm;
}

.panel {
  @apply rounded-xl border border-slate-200 bg-white p-4;
}

.button {
  @apply rounded-full px-4 py-2 text-sm font-semibold;
}

.button.primary {
  @apply bg-blue-600 text-white hover:bg-blue-700;
}

.button.secondary {
  @apply border border-slate-300 bg-white text-slate-800 hover:border-blue-400 hover:text-blue-700;
}

.sim-mode-switch {
  @apply inline-flex flex-wrap items-center gap-1 rounded-full border border-slate-200 bg-slate-50 p-1;
}

.sim-mode-pill {
  @apply rounded-full border border-transparent bg-transparent px-3 py-1.5 text-sm font-semibold text-slate-600 transition;
}

.sim-mode-pill:hover {
  @apply bg-slate-100 text-slate-900;
}

.sim-mode-pill.is-active {
  @apply border-blue-200 bg-blue-100 text-blue-900;
}

.sim-stepper {
  @apply flex flex-wrap gap-2 rounded-xl border border-slate-200 bg-white p-2 shadow-sm lg:hidden;
}

.sim-stepper-btn {
  @apply rounded-lg border border-transparent px-3 py-1.5 text-sm font-semibold text-slate-600 transition;
}

.sim-stepper-btn:hover {
  @apply bg-slate-100 text-slate-900;
}

.sim-stepper-btn.is-active {
  @apply border-blue-200 bg-blue-100 text-blue-900;
}

.sim-stage {
  @apply space-y-4;
}

.sim-stage-header {
  @apply flex items-start gap-3;
}

.sim-stage-number {
  @apply mt-0.5 inline-flex h-7 w-7 items-center justify-center rounded-full bg-blue-100 text-sm font-bold text-blue-900;
}

.sim-demo-row {
  @apply mt-4 flex flex-wrap gap-2;
}

.sim-demo-chip {
  @apply inline-flex items-center gap-2 rounded-full border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-700 transition;
}

.sim-demo-chip strong {
  @apply font-semibold text-slate-900;
}

.sim-demo-chip span {
  @apply text-xs font-mono text-blue-700;
}

.sim-demo-chip:hover {
  @apply border-blue-300 bg-blue-50;
}

.sim-demo-chip.is-active {
  @apply border-blue-300 bg-blue-100 text-blue-900;
}

.sim-keyboard-contextual {
  @apply mt-3 flex flex-wrap gap-2 rounded-xl border border-slate-200 bg-slate-50 p-2;
}

.sim-symbol-key {
  @apply rounded-md border border-slate-300 bg-white px-2.5 py-1.5 font-mono text-sm text-slate-800 transition;
}

.sim-symbol-key:hover {
  @apply border-blue-300 bg-blue-50 text-blue-900;
}

.sim-action-bar {
  @apply mt-4 flex flex-wrap gap-2;
}

.sim-action-btn {
  @apply rounded-xl border px-4 py-2 text-sm font-semibold transition;
}

.sim-action-btn-primary {
  @apply border-blue-700 bg-blue-700 text-white hover:bg-blue-800;
}

.sim-action-btn-secondary {
  @apply border-blue-300 bg-blue-100 text-blue-900 hover:bg-blue-200;
}

.sim-action-btn-tertiary {
  @apply border-slate-300 bg-white text-slate-800 hover:border-slate-400 hover:bg-slate-50;
}

.sim-details {
  @apply rounded-xl border border-slate-200 bg-slate-50 p-3;
}

.sim-details summary {
  @apply cursor-pointer text-sm font-semibold text-slate-700;
}

.questions-session-card {
  @apply space-y-4;
}

.exercise-progress-wrap {
  @apply rounded-xl border border-slate-200 bg-slate-50 p-3;
}

.exercise-question-runner {
  @apply rounded-xl border border-slate-200 bg-white p-4;
}

.exercise-inline-feedback {
  @apply rounded-xl border-l-4 border-teal-600 bg-teal-50 p-3 text-sm text-teal-900;
}

.status-dot {
  @apply inline-block h-2.5 w-2.5 rounded-full;
}

.status-dot.queued {
  @apply bg-amber-500;
}

.status-dot.running {
  @apply bg-blue-500;
}

.status-dot.completed {
  @apply bg-emerald-500;
}

.status-dot.failed {
  @apply bg-red-500;
}

.status-dot.canceled {
  @apply bg-slate-500;
}

.sim-box {
  @apply rounded-xl border border-slate-200 bg-white p-3;
}

.sim-box-label {
  @apply text-xs uppercase tracking-wide text-slate-500;
}

.sim-box-value {
  @apply mt-1 text-lg font-semibold;
}

.tape-char {
  @apply rounded-md border border-slate-300 bg-white px-2 py-1 font-mono text-sm;
}

.tape-char.is-read {
  @apply border-blue-300 bg-blue-100;
}

.tape-char.is-current {
  @apply border-amber-400 bg-amber-100;
}

.delta-table {
  @apply w-full border-collapse overflow-hidden rounded-lg border border-slate-200;
}

.delta-table th,
.delta-table td {
  @apply border border-slate-200 px-2 py-2 text-center font-mono text-sm;
}

.delta-table th {
  @apply bg-blue-50 text-blue-800;
}

.delta-table td.state-cell {
  @apply bg-slate-50 font-semibold text-slate-700;
}

.delta-table td.is-active {
  @apply bg-blue-100 font-bold text-blue-800;
}

.run-log {
  @apply max-h-56 overflow-auto rounded-xl border border-slate-200 bg-white p-3;
}

.run-log-item {
  @apply grid grid-cols-[auto_1fr] gap-2 border-b border-dashed border-slate-200 py-2 text-sm;
}

.run-log-item:last-child {
  @apply border-b-0;
}

.afd-canvas {
  @apply h-auto w-full;
}

.afd-canvas .state-circle {
  fill: #dbeafe;
  stroke: #0f172a;
  stroke-width: 3px;
}

.afd-canvas .state-final-ring {
  fill: none;
  stroke: #0f172a;
  stroke-width: 3px;
}

.afd-canvas .state-label {
  fill: #0f172a;
  font-size: 1.15rem;
  font-weight: 700;
}

.afd-canvas .edge-line,
.afd-canvas .edge-loop {
  fill: none;
  stroke: #334155;
  stroke-width: 2.8px;
}

.afd-canvas .edge-label {
  fill: #0f172a;
  font-size: 0.9rem;
  font-weight: 600;
}

.afd-canvas .state-group.is-active .state-circle {
  fill: #bfdbfe;
  stroke: #1d4ed8;
}

.afd-canvas .edge-group.is-active .edge-line,
.afd-canvas .edge-group.is-active .edge-loop {
  stroke: #1d4ed8;
}

.afd-canvas .edge-group.is-active .edge-label {
  fill: #1d4ed8;
}

.partition-step {
  @apply rounded-xl border border-slate-200 bg-white p-3;
}

.partition-step strong {
  @apply block text-xs text-slate-500;
}

.partition-step code {
  @apply text-sm text-blue-700;
}

.question-item {
  @apply w-full rounded-xl border border-slate-200 bg-white p-3 text-left;
}

.question-item.is-active {
  @apply border-blue-400 ring-2 ring-blue-100;
}

.option-btn {
  @apply w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-left text-sm;
}

.option-btn.is-selected {
  @apply border-blue-400 bg-blue-50;
}

.callout {
  @apply rounded-xl border-l-4 border-teal-600 bg-teal-50 p-3 text-sm text-teal-900;
}

.bottom-tabs {
  @apply fixed inset-x-0 bottom-0 z-20 grid grid-cols-5 gap-1 border-t border-blue-200 bg-blue-50/95 p-2 backdrop-blur md:hidden;
}

.nav-link-mobile {
  @apply rounded-lg bg-white px-1 py-2 text-center text-[11px] font-medium text-blue-900;
}

.nav-link-mobile.active {
  @apply bg-blue-200 font-bold;
}

@media (max-width: 1024px) {
  .sim-mobile-hidden {
    @apply hidden;
  }
}
